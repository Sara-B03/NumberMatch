<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <title>Number Match Game</title>
</head>

<body onload="newGameLoading()">
  
  <div class="container">

    <!-- Page Title -->
    <h1>ğŸ¯ Number Match</h1>

    <!-- Top Bar Buttons -->
    <div class="top-bar">
      <button class="settings-btn" onclick="toggleSettings()">âš™ï¸ Settings</button>
      <button class="leaderboard-btn" onclick="toggleLeaderboard()">ğŸ† Leader Board</button>
    </div>

<!---------- Settings ---------->
<div class="settings-container" id="settingsMenu">
  <button class="close-btn" onclick="toggleSettings()">âœ–</button>
  <div class="settings-header">
    <h3>âš™ï¸ Game Settings</h3>
  </div>

  <div class="settings-card card">
    <h3>Difficulty</h3>
    <div class="slider-container">
      <input type="range" min="1" max="3" value="2" class="slider" id="difficultySlider">
      <div class="slider-labels">
        <span>Easy</span>
        <span>Normal</span>
        <span>Hard</span>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Sound</h3>
    <label class="toggle-label">
      Enable Sound
      <label class="switch">
        <input type="checkbox" id="soundToggle" onchange="handleSoundToggle(this.checked)">
        <span class="slider-switch"></span>
      </label>
    </label>
  </div>
  
  <div class="card">
    <h3>Theme</h3>
    <label class="toggle-label">
      Dark Mode
      <label class="switch">
        <input type="checkbox" id="themeToggle" onchange="toggleTheme(this.checked)">
        <span class="slider-switch"></span>
      </label>
    </label>
  </div>  
</div>

<!---------- Leader Board ---------->
  <div class="leaderboard-container" id="leaderboardMenu">
  <button class="close-btn" onclick="toggleLeaderboard()">âœ–</button>
  <div class="leaderboard-header">
    <h3>ğŸ† Leaderboard</h3>
    <div class="trophy-icon">ğŸ¥‡ğŸ¥ˆğŸ¥‰</div>
  </div>
  <div class="leaderboard-card">
    <table id="leaderboardTable">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Name</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

  <div id="tutorialModal" class="tutorial-modal hidden">
    <div class="tutorial-content">
      <h2>Welcome to Number Match!</h2>
      <p>ğŸ§  Match numbers that are the same or add up to 10.</p>
      <p>ğŸ“ They must be in the same row, column, diagonal, or adjacent level.</p>
      <p>ğŸ’¡ Use hints to find a possible move. You have 5 copies to reuse remaining numbers.</p>
      <p>ğŸ¯ Clear the board to win!</p>
      <button onclick="closeTutorial()">Got it!</button>
    </div>
  </div>

    <!-- Game Info Section -->
    <div id="game-info">
      <button id="score">Score: 0</button>
      <div id="action-buttons">
        <button id="copiesLeft" onclick="copyNumbers()">
          <span class="material-symbols-outlined">content_copy</span>
          <span>Copies Left: 5</span>
        </button>
      
        <button id="hint" onclick="showHints()">
          <span class="material-symbols-outlined">lightbulb</span>
          <span id="hintsLeft">Hints Left: 5</span>
        </button>
      </div>      
    </div>


    <table id="new-table"></table>
    

    <!-- Game Result Card -->
    <div id="resultCard" class="result-card hidden">
      <div class="card-content">
        <h2 id="resultTitle"></h2>
        <p id="resultMessage"></p>
        <p id="finalScoreDisplay"></p>
    
        <div id="scoreSubmission">
          <input type="text" id="playerNameInput" placeholder="Enter your name" />
          <button onclick="submitScore()" id="submitScoreBtn">Submit Score</button>
          <button onclick="newGameLoading()">Skip</button>
        </div>
    
        <button onclick="newGameLoading()">Play Again</button>
      </div>
      <canvas id="confettiCanvas"></canvas>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="script/script.js"></script>
  </div>
</body>
</html>
