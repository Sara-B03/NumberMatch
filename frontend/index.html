<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet" />

  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <title>Number Match Game</title>
</head>

<body onload="newGameLoading()">
  
  <div class="container">

    <!-- Page Title -->
    <h1>ğŸ¯ Number Match</h1>

    <!-- Top Bar Buttons -->
    <div class="top-bar">
      <button class="settings-btn" onclick="toggleSettings()">âš™ï¸ Settings</button>
      <button class="leaderboard-btn" onclick="toggleLeaderboard()">ğŸ† Leader Board</button>
    </div>

<!---------- Settings ---------->
<div class="settings-container" id="settingsMenu">
  <button class="close-btn" onclick="toggleSettings()">âœ–</button>
  <div class="settings-header">
    <h3>âš™ï¸ Game Settings</h3>
  </div>

  <div class="settings-card card">
    <h3>Difficulty</h3>
    <div class="slider-container">
      <input type="range" min="1" max="3" value="2" class="slider" id="difficultySlider">
      <div class="slider-labels">
        <span>Easy</span>
        <span>Normal</span>
        <span>Hard</span>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Sound</h3>
    <label class="toggle-label">
      Enable Sound
      <label class="switch">
        <input type="checkbox" id="soundToggle" onchange="handleSoundToggle(this.checked)">
        <span class="slider-switch"></span>
      </label>
    </label>
  </div>
  
  <div class="card">
    <h3>Theme</h3>
    <label class="toggle-label">
      Dark Mode
      <label class="switch">
        <input type="checkbox" id="themeToggle" onchange="toggleTheme(this.checked)">
        <span class="slider-switch"></span>
      </label>
    </label>
  </div>  
</div>

<!---------- Leader Board ---------->
  <div class="leaderboard-container" id="leaderboardMenu">
  <button class="close-btn" onclick="toggleLeaderboard()">âœ–</button>
  <div class="leaderboard-header">
    <h3>ğŸ† Leaderboard</h3>
    <div class="trophy-icon">ğŸ¥‡ğŸ¥ˆğŸ¥‰</div>
  </div>
  <div class="leaderboard-card">
    <table id="leaderboardTable">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Name</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<div id="tutorialModal" class="tutorial-modal">
  <div class="tutorial-content">
    <!-- Slide container -->
    <div class="tutorial-slides">

      <div class="mySlide fade">
        <div class="numbertext">1 / 6</div>
        <video width="320" height="240" autoplay muted controls>
          <source src="https://raw.githubusercontent.com/Sara-B03/NumberMatch/main/frontend/img/findpairs.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
        <div class="text">ğŸ§  Find pairs of numbers that are equal or add up to 10. Tap them!</div>
      </div>

      <div class="mySlide fade">
        <div class="numbertext">2 / 6</div>
        <video width="320" height="240" autoplay muted controls>
          <source src="https://raw.githubusercontent.com/Sara-B03/NumberMatch/main/frontend/img/verti-hori-diag.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
        <div class="text">ğŸ“ Pairs can be matched horizontally, vertically, or diagonally.</div>
      </div>

      <div class="mySlide fade">
        <div class="numbertext">3 / 6</div>
        <video width="320" height="240" autoplay muted controls>
          <source src="https://raw.githubusercontent.com/Sara-B03/NumberMatch/main/frontend/img/adjacent.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
        <div class="text">ğŸ” Check end of one line and beginning of the next â€“ matches can wrap!</div>
      </div>

      <div class="mySlide fade">
        <div class="numbertext">4 / 6</div>
        <video width="320" height="240" autoplay muted controls>
          <source src="https://raw.githubusercontent.com/Sara-B03/NumberMatch/main/frontend/img/usecopy.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
        <div class="text">ğŸ“„ Use Copies if no matches are left. It reuses remaining numbers.</div>
      </div>

      <div class="mySlide fade">
        <div class="numbertext">5 / 6</div>
        <video width="320" height="240" autoplay muted controls>
          <source src="https://raw.githubusercontent.com/Sara-B03/NumberMatch/main/frontend/img/usehints.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
        <div class="text">ğŸ’¡ Use Hints when you're stuck. You have 5 total!</div>
      </div>

      <div class="mySlide fade">
        <div class="numbertext">6 / 6</div>
        <video width="320" height="240" autoplay muted controls>
          <source src="https://raw.githubusercontent.com/Sara-B03/NumberMatch/main/frontend/img/findpairs.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
        <div class="text">ğŸ¯ Clear the board to progress and earn more points!</div>
      </div>

    </div>

    <!-- Controls -->
    <a class="prev" onclick="plusSlides(-1)">â®</a>
    <a class="next" onclick="plusSlides(1)">â¯</a>

    <!-- Dots -->
    <div style="text-align:center; margin-top: 10px;">
      <span class="dot" onclick="currentSlide(1)"></span>
      <span class="dot" onclick="currentSlide(2)"></span>
      <span class="dot" onclick="currentSlide(3)"></span>
      <span class="dot" onclick="currentSlide(4)"></span>
      <span class="dot" onclick="currentSlide(5)"></span>
      <span class="dot" onclick="currentSlide(6)"></span>
    </div>

    <div style="text-align:center; margin-top: 20px;">
      <button onclick="closeTutorial()">Skip Tutorial</button>
    </div>
  </div>
</div>


    <!-- Game Info Section -->
    <div id="game-info">
      <button id="score">Score: 0</button>
      <div id="action-buttons">
        <button id="copiesLeft" onclick="copyNumbers()">
          <span class="material-symbols-rounded">add</span>
          <span id="copiesLeft" > 5</span>
          <span id="copyPlus" class="copy-plus"></span>
        </button>
                      
      
        <button id="hint" onclick="showHints()">
          <span class="material-symbols-outlined">lightbulb</span>
          <span id="hintsLeft">5</span>
        </button>
      </div>      
    </div>


    <table id="new-table"></table>
    

    <!-- Game Result Card -->
    <div id="resultCard" class="result-card hidden">
      <div class="card-content">
        <h2 id="resultTitle"></h2>
        <p id="resultMessage"></p>
        <p id="finalScoreDisplay"></p>
    
        <div id="scoreSubmission">
          <input type="text" id="playerNameInput" placeholder="Enter your name" />
          <button onclick="submitScore()" id="submitScoreBtn">Submit Score</button>
          <button onclick="newGameLoading()">Skip</button>
        </div>
    
        <button onclick="newGameLoading()">Play Again</button>
      </div>
      <canvas id="confettiCanvas"></canvas>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="script/script.js"></script>
  </div>
</body>
</html>
